<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Testing Graph</title>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.plot.ly/plotly-2.9.0.min.js"></script>
</head>


<body>
  <div id="tester" style="width:500px;height:300px;"></div>
  <script>
    const runGraphTest = () => {
      fetch('/api/transit', {
        method: 'GET'
      })
        .then((response) => response.json())
        .then((transitData) => {

          const a = []
          const b = []
          var i = 0
          for (const element of transitData) {
            a[i] = element.Stop;
            b[i] = element.Count;
            i++
          }
          var data = [
            {
              x: a,

              y: b,

              type: 'bar'

            }
          ];

          Plotly.newPlot('tester', data);

        })
        .catch((error) => {
          console.error('Error:', error);
        });
    };

    runGraphTest();


  </script>

  <div id="StackBar" style="width:500px;height:300px;"></div>
  <script>
    const runStackedBar = () => {
      fetch('/api/transit', {
        method: 'GET'
      })
        .then((response) => response.json())
        .then((transitData) => {

          const a = []
          const b = []
          const c = []
          var i = 0
          for (const element of transitData) {
            a[i] = element.Stop;
            b[i] = element.Count;
            c[i] = element.Latitude;
            i++
          }
          var trace1 = {
            x: a,
            y: b,
            name: 'Stop',
            type: 'bar'
          };

          var trace2 = {
            x: c,
            y: b,
            name: 'Latitude',
            type: 'bar'
          };
          var data = [trace1, trace2];
          var layout = {
            barmode: 'stack',
            height: 600,
            width: 1000
          };

          Plotly.newPlot('StackBar', data,);

        })
        .catch((error) => {
          console.error('Error:', error);
        });
    };

    runStackedBar();


  </script>

  <div id="PieChart" style="width:1000px;height:600px;"></div>
  <script>
    const runPieChart = () => {
      fetch('/api/transit', {
        method: 'GET'
      })
        .then((response) => response.json())
        .then((transitData) => {

          const a = []
          const b = []
          var i = 0
          for (const element of transitData) {
            a[i] = element.Stop;
            b[i] = element.Count;
            i++
          }
          var data = [
            {
              values: b,

              labels: a,

              type: 'pie'

            }
          ];
          var layout = {
            height: 600,
            width: 1000
          };

          Plotly.newPlot('PieChart', data, layout);

        })
        .catch((error) => {
          console.error('Error:', error);
        });
    };

    runPieChart();

  </script>

  <div id="ScatterPlot" style="width:500px;height:300px;"></div>
  <script>
    const runScatterPlot = () => {
      fetch('/api/transit', {
        method: 'GET'
      })
        .then((response) => response.json())
        .then((transitData) => {

          const a = []
          const b = []
          var i = 0
          for (const element of transitData) {
            a[i] = element.Stop;
            b[i] = element.Count;
            i++
          }
          var trace1 = {
            y: a,
            mode: 'markers',
            marker: {
              size: 40,
              color: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39]
            }
          };

          var data = [trace1];

          var layout = {
            title: 'Scatter Plot'
          };

          Plotly.newPlot('ScatterPlot', data, layout);

        })
        .catch((error) => {
          console.error('Error:', error);
        });
    };

    runScatterPlot();

  </script>
</body>







</html>

</html>